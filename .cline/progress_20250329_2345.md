# Clarity PoC - Progress Report (2025-03-29)

## Objective
Develop a working proof of concept (PoC) for the ADHD-focused planning tool "Clarity". Core goals include a mind-dump input, AI-driven categorization (Tasks, Events, Ideas, Feelings, Notes), an organized view, and a simple daily planner with simulated reminders.

## Initial Setup & Troubleshooting
- Started with `ixartz/Next-js-Boilerplate`.
- Encountered significant issues cloning and running the boilerplate (empty directories, missing `package.json`, environment variable errors, i18n/middleware conflicts, layout issues).
- Multiple attempts to fix the boilerplate setup were unsuccessful.

## Fresh Start
- Decided to abandon the boilerplate and start with a fresh Next.js installation (`create-next-app`).
- Successfully initialized a new project with TypeScript, Tailwind, ESLint, App Router, and `src` directory.
- Resolved initial permission errors by running `create-next-app` in the main macOS terminal.

## Core Implementation (Fresh Project)
- **Environment:** Created `.env.local` for the Google API key.
- **Dependencies:** Installed base Next.js dependencies, `@google/generative-ai`, and `@types/node`. Resolved module resolution errors via clean install.
- **API Route (`/api/categorise`):**
    - Created the route handler (`src/app/api/categorise/route.ts`).
    - Implemented logic to receive text input via POST.
    - Integrated Google Generative AI SDK (`@google/generative-ai`).
    - Configured to use the `gemini-1.5-flash-latest` model (after troubleshooting `gemini-pro` and `gemini-1.0-pro`).
    - Added prompt engineering to request categorization into specified types (task, event, idea, feeling, note) and return structured JSON.
    - Included basic error handling and JSON parsing logic.
- **Components:**
    - `MindDumpInput.tsx`: Created component with textarea and submit button to call the API. Includes loading and error state handling.
    - `OrganizedView.tsx`: Created component to display categorized entries grouped by type, sorted logically.
    - `DailyPlanner.tsx`: Created component to display 'task' items, allow simple text input for time slots, and simulate reminders using `alert` and `setTimeout`. Includes logic to preserve time slots when entries update.
- **Page Integration:**
    - Updated the default `src/app/page.tsx` to integrate the three components (`MindDumpInput`, `OrganizedView`, `DailyPlanner`) and manage the state flow between them.
- **Styling:**
    - Added basic Tailwind CSS classes for layout and appearance.
    - Changed task text color in `DailyPlanner` to `text-indigo-700`.

## Current Status
- The application is running locally on `http://localhost:3000`.
- Core functionality (input -> API call -> categorization -> display -> planning) is implemented.
- Basic reminder simulation is included.

## To-Do / Next Steps
- Thorough testing of the categorization accuracy and error handling.
- Refinement of the UI/UX based on testing.
- Consider adding features from the "Bonus" section of the instruction sheet if time permits (e.g., editable tags, export).
- Add comments to code where necessary.
- Update README with setup and running instructions.
